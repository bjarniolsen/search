jQuery.noConflict(),jQuery(function(a){Engine={init:function(){var b={};b.root=a(".site-wrapper"),b.suggestionsWrapper=b.root.find(".suggestions"),b.suggestionsList=b.suggestionsWrapper.find(".suggestions__list"),b.form=b.root.find("form"),b.input=b.root.find('input[type="text"]'),b.chosen="",a(document).bind("can.search",function(a,c){c?Engine.ui.button.enable(b.submit):Engine.ui.button.disable(b.submit)}),b.form.bind("submit",function(){return console.log("submit, NOT!",b.input.val()),!1}),b.input.bind("focus",function(){Engine.handleInputEvent.focus(b)}).bind("blur",function(){Engine.handleInputEvent.blur(b)}).bind("keyup",function(){Engine.handleInputEvent.keyup(b)}).bind("keydown",function(){Engine.handleInputEvent.keydown(b)})},ui:{dropdown:{build:function(a,b){var c=[];if(a.suggestionsList.empty(),b.length){for(var d=0,e=b.length;e>d;d++)c.push('<li class="suggestions__listitem"><a href="#" class="suggestions__listlink">'+b[d]+"</a></li>");a.suggestionsList.append(c)}else a.suggestionsWrapper.addClass("is-hidden")}},button:{disable:function(b){a(b).attr("disabled","disabled").addClass("disabled")},enable:function(b){a(b).removeAttr("disabled").removeClass("disabled")}}},autoSuggestControl:{typeAhead:function(){},autosuggest:function(a,b){Engine.ui.dropdown.build(a,b)},requestSuggestions:function(b,c){var d=[];a.getJSON("result.json").done(function(a){for(var e=0,f=a.terms.length;f>e;e++)0===a.terms[e].indexOf(c)&&d.push(a.terms[e]);Engine.autoSuggestControl.autosuggest(b,d)}).fail(function(a,b,c){console.log(a,b,c)})}},handleInputEvent:{focus:function(a){a.root.removeClass("waiting")},blur:function(a){a.root.removeClass("ready")},keyup:function(a){var b=event.keyCode,c="";32>b&&8!=b||b>=33&&45>=b||b>=112&&123>=b||(a.chosen="",c=a.input.val(),c.length>0?(a.root.addClass("ready"),a.suggestionsWrapper.removeClass("is-hidden")):(a.suggestionsWrapper.addClass("is-hidden"),a.suggestionsList.empty()),Engine.autoSuggestControl.requestSuggestions(a,c))},keydown:function(b){var c=event.keyCode,d=b.input.val();if(d.length>0&&(40==c||38==c)){var e=b.suggestionsList.find(".suggestions__listitem").removeClass("is-active");40==c?""===b.chosen?b.chosen=0:b.chosen+1<e.length&&b.chosen++:38==c&&(""===b.chosen?b.chosen=0:b.chosen>0&&b.chosen--),a(e[b.chosen]).addClass("is-active");var f=a(e[b.chosen]).text();b.input.val(f)}}},dummyArray:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]},Engine.init()}),function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}();